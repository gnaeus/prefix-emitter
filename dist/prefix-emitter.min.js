!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(n,r){var o=n[p];void 0===o?n[p]=o=new Array:n.hasOwnProperty(p)||(n[p]=o=o.slice()),o.push({emitter:t,args:e,key:r})}}function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(n,r){var o=n[p];void 0===o?n[p]=o=new Array:n.hasOwnProperty(p)||(n[p]=o=o.slice()),o.push({emitter:t,args:e,key:r,once:!0})}}function i(t,e){function n(){var t=this,e=this[p];void 0===e||this.hasOwnProperty(l)||(this[l]=e.map(function(e){var n=t[e.key].bind(t);return e.once?(r=e.emitter).once.apply(r,e.args.concat([n])):(o=e.emitter).on.apply(o,e.args.concat([n]));var r,o}))}if(t instanceof Function)return a.decorateClass(t,n);if(void 0!==e)return void(t[e]=a.decorateMethod(t[e],n));throw new Error("Decorator should be used on class or method")}function s(t,e){t[e]=a.decorateMethod(t[e],function(){var t=this[l];void 0!==t&&(t.forEach(function(t){t.dispose()}),delete this[l])})}var a=n(1),c=n(2),u="undefined"!=typeof Map?Map:c.Map,h="undefined"!=typeof Symbol?Symbol:c.Symbol,f=function(){function t(t,e,n){this._node=t,this._args=e,this._handler=n,this._disposed=!1}return t.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,0===this._args.length)return void a.removeItem(this._node.handlers,this._handler);for(var t=this._node,e=new Array,n=0;n<this._args.length;++n)if(e.push(t),t=t.children.get(this._args[n]),void 0===t)return;a.removeItem(t.handlers,this._handler),this._cleanupTrie(e,t)}},t.prototype._cleanupTrie=function(t,e){for(var n=t.length-1;n>=0;--n){var r=t[n];if(void 0!==e.children&&0===e.children.size&&(e.children=void 0),void 0!==e.children||0!==e.handlers.length)return;r.children["delete"](this._args[n]),e=r}void 0!==e.children&&0===e.children.size&&(e.children=void 0)},t}(),d=function(){function t(){this._node={handlers:new Array}}return t.prototype._on=function(t,e){for(var n=this._node,r=0;r<t.length;++r){void 0===n.children&&(n.children=new u);var o=n.children.get(t[r]);void 0===o&&(o={handlers:new Array},n.children.set(t[r],o)),n=o}return n.handlers.push(e),new f(this._node,t,e)},t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=arguments.length-1;if(n<0)throw new Error("last argument is not a function");var r=t[n];if("function"!=typeof r)throw new Error("last argument is not a function");return this._on(t.slice(0,n),r)},t.prototype.once=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=arguments.length-1;if(n<0)throw new Error("last argument is not a function");var r=t[n];if("function"!=typeof r)throw new Error("last argument is not a function");var o=this._on(t.slice(0,n),function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];o.dispose(),r.apply(void 0,t)});return o},t.prototype.emit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(var n=this._node,r=n.handlers,o=r.length;o--;)r[o].apply(void 0,t);for(var i,s=t.length;void 0!==n.children&&s--;){if(i=t.shift(),n=n.children.get(i),void 0===n)return;for(r=n.handlers,o=r.length;o--;)r[o].apply(void 0,t)}},t}();e.PrefixEmitter=d;var p=h("__prefix_emitter_handlers_"),l=h("__prefix_emitter_subscriptions_");e.on=r,e.once=o,e.injectSubscriptions=i,e.disposeSubscriptions=s},function(t,e){"use strict";function n(t,e){var n=t.indexOf(e);n>0?t.splice(n,1):0===n&&t.shift()}function r(t,e,n){void 0===n&&(n="");for(var r=[],o=1;o<=t;++o)r.push(e(o));return r.join(n)}function o(t,e){var n="bvjxRy0LjL9D",o=new Function(n+"target",n+"logic","\n        return function "+t.name+"("+r(t.length,function(t){return"v"+t},", ")+") {\n            "+n+"logic.apply(this, arguments);\n            return "+n+"target.apply(this, arguments);\n        };\n    "),s=o(t,e);return s.prototype=t.prototype,i(s,t),s}e.removeItem=n;var i=Object.assign||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};e.decorateMethod=new Function("target","logic","\n    switch (target.length) {"+r(16,function(t){return"\n        "+(t<16?"case "+t:"default")+": return function ("+r(t,function(t){return"v"+t},", ")+") {\n            logic.apply(this, arguments);\n            return target.apply(this, arguments);\n        };"})+"\n    }\n"),e.decorateClass=o},function(t,e){"use strict";function n(){this._store=Object.create(null),this.size=0}function r(t){if("string"!=typeof t&&"number"!=typeof t)throw new Error("Symbol not supported");return t}n.prototype.has=function(t){return void 0!==this._store[t]},n.prototype.get=function(t){return this._store[t]},n.prototype.set=function(t,e){void 0===this._store[t]&&this.size++,this._store[t]=e},n.prototype["delete"]=function(t){void 0!==this._store[t]&&(this.size--,delete this._store[t])},t.exports={Map:n,Symbol:r}}])});
//# sourceMappingURL=prefix-emitter.min.js.map